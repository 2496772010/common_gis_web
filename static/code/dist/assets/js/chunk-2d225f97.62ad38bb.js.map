{"version":3,"sources":["webpack:///./src/views/travel/goHandan/WaterHandan.vue","webpack:///./src/views/travel/goHandan/WaterHandan.vue?ffb9"],"names":["_createBlock","_createVNode","_component_base_map","onMapCreated","$options","_component_el_button","type","style","onClick","$data","_component_describe_pane","name","ref","id","contentList","components","BaseMap","DescribePane","data","routeCoords","center","Style","text","TextStyle","offsetY","fill","FillStyle","color","image","IconStyle","src","scale","desc","img","content","timeInterval","civilLayer","VectorLayer","overLay","describe","source","select","setup","map","methods","this","init","addLayer","VectorSource","setSource","Popup","popupClass","closeBox","onshow","console","log","onclose","positioning","autoPan","autoPanAnimation","duration","addOverlay","Select","addInteraction","initSelect","change","Promise","resolve","playRoute","clearInterval","a","setInterval","length","point","Feature","geometry","Point","properties","setStyle","setProperties","titleName","addFeature","center1","line","LineString","then","show","$refs","describePane","$el","outerHTML","setPixelPosition","getView","setCenter","getFeatures","on","e","feature","element","getGeometry","getProperties","domContent","getFirstCoordinate","hide","__exports__","render"],"mappings":"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","file":"assets/js/chunk-2d225f97.62ad38bb.js","sourcesContent":["<template>\r\n    <div>\r\n        <base-map @mapCreated=\"onMapCreated\">\r\n        </base-map>\r\n        <el-button type=\"primary\" style=\"position:absolute;z-index: 99;left: 50%;transform: translateX(-50%)\"\r\n                   @click=\"playRoute(source)\">重播\r\n        </el-button>\r\n        <describe-pane :name=\"name\" ref=\"describePane\" id=\"describePane\" :contentList=\"describe\"></describe-pane>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BaseMap from \"../../../components/BaseMap\";\r\n    import {Vector as VectorLayer} from 'ol/layer'\r\n    import {Vector as VectorSource} from 'ol/source'\r\n    import {Point, LineString} from 'ol/geom'\r\n    import Feature from 'ol/Feature'\r\n    import DescribePane from \"../components/DescribePane\";\r\n    import Popup from 'ol-ext/overlay/FixedPopup'\r\n    import 'ol-ext/overlay/Popup.css'\r\n    import 'ol-ext/overlay/Popup.anim.css'\r\n    import {ref} from 'vue'\r\n    import {Style, Text as TextStyle, Icon as IconStyle, Fill as FillStyle} from 'ol/style'\r\n    import {Select} from 'ol/interaction'\r\n\r\n    export default {\r\n        name: \"WaterHandan\",\r\n        components: {BaseMap, DescribePane},\r\n        data() {\r\n            return {\r\n                routeCoords: [\r\n                    {\r\n                        name: '京娘湖',\r\n                        center: [113.947389, 36.900837],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '京娘湖',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/jlh.jpg',\r\n                                scale: 0.08\r\n                            })\r\n                        }),\r\n                        desc: [\r\n                            {\r\n                                img: './handan/jlh1.png',\r\n                                content: '【京娘湖传说】京娘姓赵，年方十七岁，随父去曲阳烧香还愿遭劫，幸遇 赵匡胤拔刀相救。年少轻狂的赵匡胤因得罪朝廷而闯荡江湖，走遍了天下各地，匡胤与京娘结为兄妹并独行千里护送京娘回家。一路匡胤步行，京娘骑马，千里送其回家，一路上赵匡胤对京娘体贴关怀。途径武安门道川，京娘晨起，临渊梳妆，匡胤侠骨柔肠感动京娘，京娘向赵匡胤诉说爱慕之情。匡胤踌躇满志，婉言回绝。\\n' +\r\n                                    '另据冯梦龙《警世通言》记载，赵匡胤千里送京娘，京娘愿以终身相托，然而赵匡胤曰：“贤妹非是俺胶柱鼓瑟，本为义气千里相送，今若就私情与那个响马何异？况施恩图报非君子所为”。京娘道：“恩兄高见，妾今生不能补报大德，死当衔环结草”。于是京娘投湖自尽，又说是因受到兄嫂猜疑而自尽（后被追封为贞义夫人），京娘湖亦由此得名。\\n'\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: '古武当山',\r\n                        center: [113.951857, 36.950466],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '古武当山',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/gwds.jpg',\r\n                                scale: 0.2\r\n                            })\r\n                        }),\r\n                        desc: [\r\n                            {\r\n                                img: './handan/gwds.jpg',\r\n                                content: '武当山，位于河北省邯郸市武安市西北的太行山深处，距邯郸市70公里，景区面积20多平方公里。国家地质公园，国家森林公园。\\n' +\r\n                                    '古武当山始建于唐贞观年间。山顶一唐代古碑上记载此为古武当山，经专家考证认定是久为国内道教界寻找的著名的北武当山，其历史早于国内其它武当山。古武当山上庙主峰海拨1437.7米，真武古庙建在山的极顶处，庙内供奉着道教大神真武大帝和太极宗师张三丰。' +\r\n                                    '山上留有真武修行和道教张三丰传播太极拳的故事，是河北地区太极拳和道教传播的重要历史文化之一。' +\r\n                                    '武当山自然风光秀美，文物古迹众多，山势奇特，五峰相望，顶顶有庙，峰峰插天，杆被繁茂，满山葱郁。庙主峰海拔1437.7米，真武庙建在山顶处，庙内供着道大神真武大帝和太极宗师张三丰。北顶老爷顶，南顶奶奶顶，中间有一天桥连接。置身山顶，极目远望，遍山水云水，如入仙境。张三丰古练功场，四周山形千姿百态，处处显现着大自然的灵气。著名的有“阳山奇观”' +\r\n                                    '、“大鹏展翅”、“神猴献瑞”、“毛公峰”、“鲁迅峰”、“太极掌”等，鬼斧神工，惟妙惟肖。下庙的药王庙、碧霞丹君庙、真武庙，无不体现着武当道教和太极养生文化。国家地质公园、森林公园古武当山景区位于邯郸市武安市西40公里的太行山深处，是神话《北游记》故事的发源地、国内著名的道教圣地。古老秀美的山川、神奇悠久的传说，雄浑峻秀的山势，以及浓厚的文化底蕴，越发增加了古武当山的神秘。'\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: '长寿村',\r\n                        center: [113.817653, 36.991975],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '长寿村',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/csc.jpg',\r\n                                scale: 0.2\r\n                            })\r\n                        }),\r\n                        desc: [\r\n                            {\r\n                                img: './handan/csc.jpg',\r\n                                content: '长寿村旅游风景区地处太行山南麓河北省武安市境内，距武安市区56公里，西与山西省左权县毗邻，北与邢台市邢台县相望。\\n' +\r\n                                    '景区以“空气好，水好”而闻名遐迩。拥有南太行最高峰青崖寨（海拔1898米）和南太行第二高峰摩天岭（海拔1747.5米），自然古村落长寿村位于摩天岭脚下，有鸡鸣三省之地利，四水源头(清漳河、沙河、南洺河、北洺河)之泉壑，米寿人仁之气和。峻\\n' +\r\n                                    '极峰险，山高水美，绿树荫荫。是武安国家地质公园、武安国家森林公园和青崖寨国家自然保护区，“两园一区”的中心区域。这里以山称奇，以水增寿，以寿闻名。'\r\n                            }\r\n                        ]\r\n                    },\r\n                ],\r\n                timeInterval: null,\r\n                civilLayer: new VectorLayer({}),\r\n                overLay: null,\r\n                describe: [],\r\n                source: null,\r\n                name: '',\r\n                select: null\r\n            }\r\n        },\r\n        setup() {\r\n            return {\r\n                map: ref(null)\r\n            }\r\n        },\r\n        methods: {\r\n            onMapCreated(map) {\r\n                this.map = map\r\n                this.init(map)\r\n            },\r\n            init(map) {\r\n                map.addLayer(this.civilLayer)\r\n                this.source = new VectorSource()\r\n                this.civilLayer.setSource(this.source)\r\n                this.overLay = new Popup({\r\n                    popupClass: \"default\", //\"tooltips\", \"warning\" \"black\" \"default\", \"tips\", \"shadow\",\r\n                    closeBox: true,\r\n                    onshow: function () {\r\n                        console.log(\"You opened the box\");\r\n                    },\r\n                    onclose: function () {\r\n                        console.log(\"You close the box\");\r\n                    },\r\n                    positioning: 'top-right',\r\n                    autoPan: true,\r\n                    autoPanAnimation: {duration: 250}\r\n                })\r\n                map.addOverlay(this.overLay)\r\n                // this.playRoute(this.source)\r\n                this.select = new Select({})\r\n                this.map.addInteraction(this.select)\r\n                this.initSelect()\r\n            },\r\n            change(desc, name) {\r\n                return new Promise(resolve => {\r\n                    this.describe = desc\r\n                    this.name = name\r\n                    resolve('ok')\r\n\r\n                })\r\n            },\r\n            playRoute(source) {\r\n                if (source) {\r\n                    clearInterval(this.timeInterval)\r\n                    this.timeInterval = null\r\n                    let a = 0\r\n                    this.timeInterval = setInterval(() => {\r\n                        if (a >= this.routeCoords.length) {\r\n                            clearInterval(this.timeInterval)\r\n                            return\r\n                        }\r\n                        let center = this.routeCoords[a].center\r\n                        let desc = this.routeCoords[a].desc\r\n                        let name = this.routeCoords[a].name\r\n                        let style = this.routeCoords[a].style\r\n                        let point = new Feature({\r\n                            geometry: new Point(center),\r\n                            properties: {\r\n                                desc: desc\r\n                            }\r\n                        })\r\n                        point.setStyle(style)\r\n                        point.setProperties({\r\n                            titleName: name,\r\n                            desc: desc\r\n                        })\r\n                        source.addFeature(point)\r\n                        if (a < this.routeCoords.length - 1) {\r\n                            let center1 = this.routeCoords[a + 1].center\r\n                            let line = new Feature({\r\n                                geometry: new LineString([center, center1])\r\n                            })\r\n                            source.addFeature(line)\r\n                        }\r\n                        this.change(desc, name).then(() => {\r\n                            this.overLay.show(center, this.$refs.describePane.$el.outerHTML)\r\n                            this.overLay.setPixelPosition([10, 10], 'top-right')\r\n                            this.map.getView().setCenter(center)\r\n                        })\r\n\r\n                        a += 1\r\n                    }, 4000)\r\n                }\r\n            },\r\n            initSelect() {\r\n                this.select.getFeatures().on(['add'], (e) => {\r\n                    const feature = e.element;\r\n                    if (feature.getGeometry() instanceof Point) {\r\n                        let properties = feature.getProperties()\r\n                        console.log(properties)\r\n                        this.change(properties.desc, properties.titleName).then(() => {\r\n                            let domContent = this.$refs.describePane.$el.outerHTML\r\n                            this.overLay.show(feature.getGeometry().getFirstCoordinate(), domContent);\r\n                        })\r\n\r\n                    }\r\n\r\n                });\r\n                this.select.getFeatures().on(['remove'], function () {\r\n                    this.overLay.hide();\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./WaterHandan.vue?vue&type=template&id=91e8d19e&scoped=true\"\nimport script from \"./WaterHandan.vue?vue&type=script&lang=js\"\nexport * from \"./WaterHandan.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\DEV\\\\JS\\\\supermap_proj1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-91e8d19e\"]])\n\nexport default __exports__"],"sourceRoot":""}