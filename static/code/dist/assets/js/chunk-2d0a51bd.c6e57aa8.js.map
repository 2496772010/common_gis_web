{"version":3,"sources":["webpack:///./src/views/travel/goHandan/CivilizationHandan.vue","webpack:///./src/views/travel/goHandan/CivilizationHandan.vue?a9ff"],"names":["_createBlock","_createVNode","_component_base_map","onMapCreated","$options","_component_el_button","type","style","onClick","$data","_component_describe_pane","name","ref","id","contentList","components","BaseMap","DescribePane","data","routeCoords","center","Style","text","TextStyle","offsetY","fill","FillStyle","color","image","IconStyle","src","scale","desc","img","content","timeInterval","civilLayer","VectorLayer","overLay","describe","source","select","setup","map","methods","this","init","addLayer","VectorSource","setSource","Popup","popupClass","closeBox","onshow","console","log","onclose","positioning","autoPan","autoPanAnimation","duration","addOverlay","Select","addInteraction","initSelect","change","Promise","resolve","playRoute","clearInterval","a","setInterval","length","point","Feature","geometry","Point","properties","setStyle","setProperties","titleName","addFeature","center1","line","LineString","then","show","$refs","describePane","$el","outerHTML","setPixelPosition","getView","setCenter","getFeatures","on","e","feature","element","getGeometry","getProperties","domContent","getFirstCoordinate","hide","__exports__","render"],"mappings":"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","file":"assets/js/chunk-2d0a51bd.c6e57aa8.js","sourcesContent":["<template>\r\n    <div>\r\n        <base-map @mapCreated=\"onMapCreated\">\r\n        </base-map>\r\n        <el-button type=\"primary\" style=\"position:absolute;z-index: 99;left: 50%;transform: translateX(-50%)\"\r\n                   @click=\"playRoute(source)\">重播\r\n        </el-button>\r\n        <describe-pane :name=\"name\" ref=\"describePane\" id=\"describePane\" :contentList=\"describe\"></describe-pane>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BaseMap from \"../../../components/BaseMap\";\r\n    import {Vector as VectorLayer} from 'ol/layer'\r\n    import {Vector as VectorSource} from 'ol/source'\r\n    import {Point, LineString} from 'ol/geom'\r\n    import Feature from 'ol/Feature'\r\n    import DescribePane from \"../components/DescribePane\";\r\n    import Popup from 'ol-ext/overlay/FixedPopup'\r\n    import 'ol-ext/overlay/Popup.css'\r\n    import 'ol-ext/overlay/Popup.anim.css'\r\n    import {ref} from 'vue'\r\n    import {Style, Text as TextStyle, Icon as IconStyle, Fill as FillStyle} from 'ol/style'\r\n    import {Select} from 'ol/interaction'\r\n\r\n\r\n    export default {\r\n        name: \"CivilizationHandan\",\r\n        components: {BaseMap, DescribePane},\r\n        data() {\r\n            return {\r\n                routeCoords: [\r\n                    {\r\n                        name: '娲皇宫',\r\n                        center: [113.618874, 36.639939],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '娲皇宫',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/whg.png',\r\n                                scale: 0.5\r\n                            })\r\n                        }),\r\n                        desc: [{\r\n                            img: './handan/whg1.jpg',\r\n                            content: '河北省邯郸市娲皇宫景区，位于河北省邯郸市涉县中皇山上，为中国神话传说女娲娘娘炼石补天，抟土造人之地，娲皇宫始建于北齐时期，初为北齐文宣帝高洋所建离宫，初开三石室，雕数尊神像。后经历代修葺续建，娲皇宫现今占地面积达76万平方米。如今建筑多为明清时期，而北齐遗迹，仅留石窟与摩崖刻经，共6部，是中国现存摩崖刻经中最早、字数最多的一处。'\r\n                        }]\r\n                    },\r\n                    {\r\n                        name: '南北响堂山石窟',\r\n                        center: [114.196564, 36.426963],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '南北响堂山石窟',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/nbxtssk.jpg',\r\n                                scale: 0.08\r\n                            })\r\n                        }),\r\n                        desc: [{\r\n                            img: './handan/nbxtssk.jpg',\r\n                            content: '石窟大小佛像4300多尊并有大量经文，雕刻，是研究佛教、建筑、雕刻、美术、书法的宝库，在中国石窟艺术向唐代写实风格的演变中，起着承上启下作用。北响堂山石窟位于矿区和村东，北鼓山西腰，现存石窟9座，大小佛像72尊，其中南、中、北三大窟为北齐王朝开凿。三窟中以位于窟群北端的大佛洞规模最大，装饰最华丽。该窟进深11.8米，宽13米，高11.4米，置塔形柱三面开凿一大龛，正面龛内一佛两菩萨，正尊坐佛连座通高5米，佛背光浮雕塑火焰忍冬纹，七条火龙穿插期间，生动活泼。塔柱上窟壁共凿26个列龛，列龛由弓形楣梁、垂幔、龛柱、覆钵等组成，雕刻细致，钵顶雕塑华丽的大型火焰宝珠，窟的整体部局，装饰，显示北齐时期的高超雕刻艺术。\\n' +\r\n                                '南响堂山石窟，位于彭城滏阳河源头北侧山腰，现存七窟，均凿于北齐，大小造像3588尊，其中千佛洞最为华丽，窟外整体外观为覆钵塔形。窟前设四柱三开间前廊的仿木结构建筑,其斗拱窟檐以上凿大形覆钵，钵中央雕展翅欲飞的金翅鸟，上雕宝珠，钵两端饰卷云状山花蕉叶，这一保存完整华丽的装饰，十分罕见。窟内进深3.6米，宽3.9米，高3.7米。前壁满雕塑千佛，其它三壁又凿一大龛，内均一佛二弟子两菩萨。壁上部也各雕千佛，下设基坛，窟顶微隆，雕莲花和八尊伎乐天，形象生动形象美观，堪称时代佳作。石窟附近有古塔，靠山阁楼，寺院殿宇等附属建筑群。另有称作\\'小响堂\\'的水浴寺石窟，位于北鼓山东麓，与北响堂隔天宫峰东西相立。现存东西两座石崖，两处摩崖造像，两座北宋经幢，水浴寺的前殿等。响堂山石窟，规模宏伟，雕刻精致，可与三大石窟媲美。'\r\n\r\n                        }]\r\n                    },\r\n                    {\r\n                        name: '磁州窑',\r\n                        center: [114.376404, 36.373486],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '磁州窑',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/czy.jpg',\r\n                                scale: 0.3\r\n                            })\r\n                        }),\r\n                        desc: [{\r\n                            img: './handan/czy.jpg',\r\n                            content: '磁州窑博物馆占地7.8亩，建设总面积5000平方米。该馆由河北省建筑设计研究院设计，该设计结合了磁州窑的特点，在建筑形制上以“窑”为中心，以“弧”为展线，上下分两层，内设四个大展厅，并设有文物库房、学术报告厅，文物修复室、陶吧等。 [1] \\n' +\r\n                                '截至2019年8月，磁州窑博物馆展线总长度480米，展出文物400件，图片278张，其它辅助展品186件。该馆陈列由五部分构成：第一部分：序厅——黑与白的艺术；第二部分：窑火初燃——北朝隋唐时期；第三部分：化境黑白——宋金元时期；第四部分：余韵悠长——明清民国时期；第五部分：美器由来——烧造工艺。\\n' +\r\n                                '序厅——黑与白的艺术\\n' +\r\n                                '序厅外形为磁州窑典型的馒头窑形状，居于博物馆的中央位置。序厅圆形内墙以烧成色壁砖和匣钵为装饰，突出表现“窑”的氛围。正中墙体上有大幅“观台窑址”喷绘照片，照片上有馒头窑、漳河、黄土地和陈列标题“黑与白的艺术”。照片前面为黑白两块相互连接的落地长方体块石，分别镌刻着中英文前言。顶部装饰系两个层次构造的白地黑花大龙盆“龙纹”图案和龙凤罐“葵花纹”图案，外沿为放射状铝合金格栅吊顶，寓意磁州的泥土经过磁州窑的幻化，变为“黑与白的艺术”。悬挂于东壁的灯箱带和西壁的电视组合，与正面装饰共同构成序厅的第二层次。东壁灯箱带展示的是国际、国内各大馆的磁州窑藏品。西壁的电视组合滚动播放磁州窑博物馆简介。整个序厅采用深色陶砖地面。\\n' +\r\n                                '第一展厅——窑火初燃\\n' +\r\n                                '该展厅展览磁州窑北朝至隋朝的产品，展品多为以生产白瓷、黑瓷、青瓷为主的北方民窑。\\n' +\r\n                                '第二展厅——化境黑白\\n' +\r\n                                '该展厅是整个陈列的核心展厅，将各个时期的磁州窑文物，特别是宋金元鼎盛时期的器物集于一堂。该展厅展品有金代龙纹大盆、金代梅瓶、元代龙凤罐等。该展厅还包括瓷枕厅部分。该部分展出了宋金元不同时期的瓷枕百余方。\\n' +\r\n                                '该展厅在传统的器物展示基础上，在内容设计上深“挖”瓷器的内涵，分别提炼出诗词曲赋150篇，装饰图案206幅，历史故事20则，装饰技法60种四项内容。设置了专门的展架，配以四个电视播放器分别滚动播放上述四项内容，同时，由动态展示转入静态显示，即在展线上另设置电子触摸屏，将上述四块内容装置进去，供观众触摸检索；同时，该展厅设置了书架，将涉及上述内容的有关书籍固定在展线上。\\n' +\r\n                                '第三展厅——余韵悠长\\n' +\r\n                                '该展厅一方面展示了明代磁州窑中心转向彭城窑，彭城成为“北方瓷都”的历史过程，另一方面将田野考古和博物馆陈列这两个专业结合起来。该展厅有瓷片柜、瓷片架和一个可直接用手触摸的瓷片箱。大体量的瓷片墙则表现了观台窑址四个考古阶段的地层情况，反映窑址地层构造和地层风貌。与瓷片柜、架、箱和瓷片墙相连的是模拟遗址场景，场景面积12米×7.5米，现场为框架玻璃平面，高12厘米，玻璃板下面是布满瓷片和草丛的遗址原始地面。遗址背景片18米×3.2米，背景片前配置不同类型磁州窑的结构图和考古现场照片。\\n' +\r\n                                '第四展厅——美器由来\\n' +\r\n                                '该展厅占地726平方米，展示了磁州窑全场景生产工艺，采用1：1的比例，用实物、雕塑、模型、背景画、投影、灯光、拟声等手段，展现了取土、炼泥、成型、施工、装饰、入窑的制瓷全过程。'\r\n                        }]\r\n                    },\r\n                    {\r\n                        name: '峰峰陶巴',\r\n                        center: [114.218101, 36.474334],\r\n                        style: new Style({\r\n                            text: new TextStyle({\r\n                                text: '峰峰陶巴',\r\n                                offsetY: 30,\r\n                                fill: new FillStyle({\r\n                                    color: '#000000'\r\n                                })\r\n                            }),\r\n                            image: new IconStyle({\r\n                                src: './handan/fftb.jpg',\r\n                                scale: 0.2\r\n                            })\r\n                        }),\r\n                        desc: [{\r\n                            img: './handan/fftb.jpg',\r\n                            content: '所谓淘吧是指按照个人的喜好，自己加工、制作陶器的休闲场所。陶是指制作陶器，吧是英文BAR的译文，专指小酒吧，现泛指休闲娱乐场所。陶器制作在我国历史悠久，形成了独特的陶器文化。陶器除了其实用功能外，更多的是作为艺术品，传达制陶人的思想与感情。人们沉浸在淘吧里，一方面是孩童时的天性，另一方面通过亲手制作陶器来释放平时生活、工作带来的压力，制作的陶器还可以作为礼品赠送给亲戚朋友。也是一种艺术的名称。'\r\n                        }]\r\n                    },\r\n                ],\r\n                timeInterval: null,\r\n                civilLayer: new VectorLayer({}),\r\n                overLay: null,\r\n                describe: [],\r\n                source: null,\r\n                name: '',\r\n                select: null\r\n            }\r\n        },\r\n        setup() {\r\n            return {\r\n                map: ref(null)\r\n            }\r\n        },\r\n        methods: {\r\n            onMapCreated(map) {\r\n                this.map = map\r\n                this.init(map)\r\n            },\r\n            init(map) {\r\n                map.addLayer(this.civilLayer)\r\n                this.source = new VectorSource()\r\n                this.civilLayer.setSource(this.source)\r\n                this.overLay = new Popup({\r\n                    popupClass: \"default\", //\"tooltips\", \"warning\" \"black\" \"default\", \"tips\", \"shadow\",\r\n                    closeBox: true,\r\n                    onshow: function () {\r\n                        console.log(\"You opened the box\");\r\n                    },\r\n                    onclose: function () {\r\n                        console.log(\"You close the box\");\r\n                    },\r\n                    positioning: 'top-right',\r\n                    autoPan: true,\r\n                    autoPanAnimation: {duration: 250}\r\n                })\r\n                map.addOverlay(this.overLay)\r\n                // this.playRoute(this.source)\r\n                this.select = new Select({})\r\n                this.map.addInteraction(this.select)\r\n                this.initSelect()\r\n            },\r\n            change(desc, name) {\r\n                return new Promise(resolve => {\r\n                    this.describe = desc\r\n                    this.name = name\r\n                    resolve('ok')\r\n\r\n                })\r\n            },\r\n            playRoute(source) {\r\n                if (source) {\r\n                    clearInterval(this.timeInterval)\r\n                    this.timeInterval = null\r\n                    let a = 0\r\n                    this.timeInterval = setInterval(() => {\r\n                        if (a >= this.routeCoords.length) {\r\n                            clearInterval(this.timeInterval)\r\n                            return\r\n                        }\r\n                        let center = this.routeCoords[a].center\r\n                        let desc = this.routeCoords[a].desc\r\n                        let name = this.routeCoords[a].name\r\n                        let style = this.routeCoords[a].style\r\n                        let point = new Feature({\r\n                            geometry: new Point(center),\r\n                            properties: {\r\n                                desc: desc\r\n                            }\r\n                        })\r\n                        point.setStyle(style)\r\n                        point.setProperties({\r\n                            titleName: name,\r\n                            desc: desc\r\n                        })\r\n                        source.addFeature(point)\r\n                        if (a < this.routeCoords.length - 1) {\r\n                            let center1 = this.routeCoords[a + 1].center\r\n                            let line = new Feature({\r\n                                geometry: new LineString([center, center1])\r\n                            })\r\n                            source.addFeature(line)\r\n                        }\r\n                        this.change(desc, name).then(() => {\r\n                            this.overLay.show(center, this.$refs.describePane.$el.outerHTML)\r\n                            this.overLay.setPixelPosition([10, 10], 'top-right')\r\n                            this.map.getView().setCenter(center)\r\n                        })\r\n\r\n                        a += 1\r\n                    }, 4000)\r\n                }\r\n            },\r\n            initSelect() {\r\n                this.select.getFeatures().on(['add'], (e) => {\r\n                    const feature = e.element;\r\n                    if (feature.getGeometry() instanceof Point) {\r\n                        let properties = feature.getProperties()\r\n                        console.log(properties)\r\n                        this.change(properties.desc, properties.titleName).then(() => {\r\n                            let domContent = this.$refs.describePane.$el.outerHTML\r\n                            this.overLay.show(feature.getGeometry().getFirstCoordinate(), domContent);\r\n                        })\r\n\r\n                    }\r\n\r\n                });\r\n                this.select.getFeatures().on(['remove'], function () {\r\n                    this.overLay.hide();\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./CivilizationHandan.vue?vue&type=template&id=01c4898c&scoped=true\"\nimport script from \"./CivilizationHandan.vue?vue&type=script&lang=js\"\nexport * from \"./CivilizationHandan.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\DEV\\\\JS\\\\supermap_proj1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-01c4898c\"]])\n\nexport default __exports__"],"sourceRoot":""}